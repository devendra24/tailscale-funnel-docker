kind: pipeline
type: docker
name: app-npm-build

steps:
  - name: install
    image: node:20-alpine
    commands:
      - cd app
      - npm install

  - name: build
    image: node:20-alpine
    commands:
      - cd app
      - npm run build
      - tar -czf app-build.tar.gz dist

  - name: verify
    image: alpine
    commands:
      - ls -lh app/app-build.tar.gz
